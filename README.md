# Serasa Allow Me Application

This is the `Serasa Allow Me` application, built using React, TypeScript, Vite, Vitest and Playwright for end-to-end (E2E) testing. The project also uses `pnpm` as the package manager for dependency management.

## Prerequisites

Ensure you have the following tools installed on your system:

- [Node.js](https://nodejs.org/) (Version 18.x or higher)
- [pnpm](https://pnpm.io/) (Version 7.x or higher)

To install `pnpm`, you can run:

```bash
npm install -g pnpm
```

## Installation

Follow the steps below to install and run the application.

1. **Clone the repository**:

```bash
git clone https://github.com/mathmartins2/serasa-allowme.git
cd serasa-allowme
```

2. **Install dependencies**:

Use `pnpm` to install the project's dependencies:

```bash
pnpm install
```

3. **Set up environment variables**:

Before running the application, ensure you have your environment variables configured. The project includes an example file `.env.example` that you can copy and rename to `.env`:

```bash
cp .env.example .env
```

Then, fill in the values for `VITE_ENABLE_MOCKS` and `VITE_API_URL` in the `.env` file:

```
VITE_ENABLE_MOCKS=
VITE_API_URL=
```

## Running the Application

To start the development server locally, run the following command:

```bash
pnpm run start
```

This will start a development server using `Vite` on `http://localhost:5173/` by default. You can access the application by opening your browser and navigating to that URL.

## Building for Production

To build the application for production, use the following command:

```bash
pnpm run build
```

The production-ready files will be generated in the `dist` folder.

## Running Tests

### Unit and Integration Tests

Unit and integration tests are written using `Vitest`. To run these tests, use the following command:

```bash
pnpm run test
```

### End-to-End (E2E) Tests with Playwright

**Important:** Before running the E2E tests for the first time, you need to install Playwright browsers. Run the following command:

```bash
pnpm exec playwright install
```

**Important:** To run the E2E tests, the application must be running. Ensure the development server is running with `pnpm run dev` before starting the E2E tests.

To run the E2E tests, execute the following command:

```bash
pnpm run test
```

This command will run both the unit tests and the E2E tests.

### Viewing Playwright Test Report

After running the E2E tests, you can view the test report by running:

```bash
pnpm exec playwright show-report
```

This will open the HTML report generated by Playwright, allowing you to inspect test results.
